---
config:
  theme: base
  themeVariables:
    primaryColor: '#1D4DFF'
    primaryTextColor: '#fff'
    primaryBorderColor: '#1D4DFF'
    lineColor: '#666'
    secondaryColor: '#1a1a1a'
    tertiaryColor: '#2a2a2a'
    background: '#0a0a0a'
    mainBkg: '#1a1a1a'
    secondBkg: '#2a2a2a'
    nodeTextColor: '#fff'
    textColor: '#fff'
    edgeLabelBackground: '#1a1a1a'
  layout: elk
---

flowchart TB

Admin["ğŸ‘¤ Admin Portal<br/>System Configuration"] --> Backend["âš™ï¸ Laravel Backend API<br/>Modular Monolithic Architecture"]
PM["ğŸ‘” Project Manager Portal<br/>Project Oversight"] --> Backend
Supervisor["ğŸ‘¨â€ğŸ’¼ Supervisor Portal<br/>Review & Approval"] --> Backend

Backend --> Database["ğŸ—„ï¸ PostgreSQL Database<br/>Structured Data Storage"]
Backend --> Storage["â˜ï¸ S3 Storage<br/>Photos & Documents"]

Inspector["ğŸ“± Inspector Mobile App<br/>Flutter (iOS/Android)"] --> SyncAPI["ğŸ”„ Sync API<br/>Offline Support"]

SyncAPI --> Backend

Backend --> VisitAssignment["ğŸ“‹ Visit Assignment Module<br/>Schedule & Dispatch"]
Backend --> IncidentCapture["ğŸ“¸ Incident Capture Module<br/>Photo & Details"]
Backend --> Checklist["âœ… Dynamic Checklist Module<br/>Validation & Scoring"]
Backend --> Approval["âœ”ï¸ Approval Workflow Module<br/>Multi-level Review"]
Backend --> Reporting["ğŸ“Š Reporting Module<br/>Analytics & Insights"]

VisitAssignment --> Inspector
IncidentCapture --> Inspector
Checklist --> Inspector

Inspector --> IncidentCapture
Inspector --> Checklist

Approval --> Supervisor
Approval --> PM

Reporting --> PM
Reporting --> Admin

Database --> Reporting

classDef primary fill:#1D4DFF,stroke:#1D4DFF,stroke-width:2px,color:#fff
classDef secondary fill:#2a2a2a,stroke:#1D4DFF,stroke-width:2px,color:#fff
classDef storage fill:#1a1a1a,stroke:#666,stroke-width:2px,color:#fff
classDef mobile fill:#3a3a3a,stroke:#1D4DFF,stroke-width:2px,color:#fff

class Backend,VisitAssignment,IncidentCapture,Checklist,Approval,Reporting,SyncAPI primary
class Admin,PM,Supervisor secondary
class Database,Storage storage
class Inspector mobile
